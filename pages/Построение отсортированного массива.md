- ```go
  for i := len(arr) - 1; i >= 0; i-- {
      num := arr[i]
      sortedArr[count[num]-1] = num
      count[num]--
  }
  ```
- Этот обратный цикл проходит по исходному массиву `arr` с конца к началу. Для каждого элемента `arr[i]` находится его позиция в отсортированном массиве `sortedArr` с помощью `count`. `count[num]` указывает на позицию, куда нужно поместить `num` в `sortedArr`. После каждого размещения элемента в `sortedArr` соответствующий элемент `count[num]` уменьшается на 1, чтобы при следующем встрече элемента `num` он был размещен в правильной позиции, если таковые имеются. Этот подход обеспечивает устойчивость сортировки, сохраняя относительный порядок элементов с одинаковыми значениями.
- Давайте разберем ваш пример пошагово для лучшего понимания работы сортировки подсчетом.
- ### Дано:
  
  ```go
  count := [0 1 1 1 1 2 2 2 2 2 3 3 3 3 3 3 3 3 3 3 4]
  arr := [20, 5, 10, 1] // Изначальный массив
  sortedArr := [0, 0, 0, 0] // Начальное состояние
  ```
- ### Шаг 1:
- #### Выбираем  `num = 1`
  
  ```go
  num := 1
  index := count[num] - 1
  sortedArr[index] = num
  count[num]--
  ```
- **Вычисление `index`:**
	- `count[1] = 1`
	- `index = count[1] - 1 = 1 - 1 = 0`
- **Запись в `sortedArr`:**
	- `sortedArr[0] = num = 1`
- **Уменьшение `count[num]`:**
	- `count[1]-- = 0`
	  
	  Теперь `sortedArr = [1, 0, 0, 0]`.
- ### Шаг 2:
- #### Выбираем  `num = 10`
  
  ```go
  num := 10
  index := count[num] - 1
  sortedArr[index] = num
  count[num]--
  ```
- **Вычисление `index`:**
	- `count[10] = 3`
	- `index = count[10] - 1 = 3 - 1 = 2`
- **Запись в `sortedArr`:**
	- `sortedArr[2] = num = 10`
- **Уменьшение `count[num]`:**
	- `count[10]-- = 2`
	  
	  Теперь `sortedArr = [1, 0, 10, 0]`.
- ### Шаг 3:
- #### Выбираем  `num = 5`
  
  ```go
  num := 5
  index := count[num] - 1
  sortedArr[index] = num
  count[num]--
  ```
- **Вычисление `index`:**
	- `count[5] = 2`
	- `index = count[5] - 1 = 2 - 1 = 1`
- **Запись в `sortedArr`:**
	- `sortedArr[1] = num = 5`
- **Уменьшение `count[num]`:**
	- `count[5]-- = 1`
	  
	  Теперь `sortedArr = [1, 5, 10, 0]`.
- ### Шаг 4:
- #### Выбираем  `num = 20`
  
  ```go
  num := 20
  index := count[num] - 1
  sortedArr[index] = num
  count[num]--
  ```
- **Вычисление `index`:**
	- `count[20] = 4`
	- `index = count[20] - 1 = 4 - 1 = 3`
- **Запись в `sortedArr`:**
	- `sortedArr[3] = num = 20`
- **Уменьшение `count[num]`:**
	- `count[20]-- = 3`
	  
	  Теперь `sortedArr = [1, 5, 10, 20]`.
- ### Общий результат:
  
  После выполнения всех шагов `sortedArr` содержит отсортированный массив `[1, 5, 10, 20]`.
- ### Вывод:
  
  Использование `count[num]--` после каждой записи элемента в `sortedArr` важно для того, чтобы корректно размещать элементы в порядке возрастания исходного массива `arr`. Это обеспечивает правильную устойчивость сортировки подсчетом, сохраняя относительный порядок элементов с одинаковыми значениями из исходного массива.