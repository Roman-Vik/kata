- ```go
  package main
  
  import "fmt"
  
  func findMax(arr []int) int {
  	if len(arr) <= 0 {
  		return 0
  	}
  	maxNum := arr[0]
  
  	for _, num := range arr {
  		if maxNum < num {
  			maxNum = num
  		}
  	}
  	return maxNum
  }
  
  func countingSort(arr []int) {
  	// Шаг 1: Находим максимальное значение в массиве
  	max := findMax(arr)
  	_ = max
  	// Шаг 2: Создаем массив для подсчета вхождений чисел
  	count := make([]int, max+1)
  	//	fmt.Println(count)
  	//	fmt.Println(len(count)) // Размер max+1, т.к. значения идут от 0 до max
  
  	// Шаг 3: Заполняем массив подсчетов
  	for _, num := range arr {
  		count[num]++
  	}
  	fmt.Println(count) // [0 1 0 0 0 1 0 0 0 0 1 0 0 0 0 0 0 0 0 0 1]
  
  	// Шаг 4: Модифицируем массив подсчетов
  
  	for i := 1; i <= max; i++ {
  		count[i] += count[i-1]
  	}
  	fmt.Println(count)
  	// fmt.Println(count)
  
  }
  
  func main() {
  	myArr := []int{20, 5, 10, 1}
  	countingSort(myArr)
  
  }
  
  ```
- Конечно! Давайте подробно разберем, что происходит на каждом шаге в цикле преобразования массива `count` в массив префиксных сумм.
- ### Исходные данные
  
  Предположим, у нас есть массив `arr = [20, 5, 10, 1]`. После этапа подсчета вхождений элементов массив `count` выглядит так:
  
  ```go
  count = [0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1]
  ```
  
  Этот массив показывает, сколько раз каждое число встречается в исходном массиве `arr`.
- ### Цикл преобразования в префиксные суммы
  
  ```go
  for i := 1; i <= max; i++ {
  count[i] += count[i-1]
  }
  ```
- ### Пошаговое объяснение
- #### Шаг 1
  
  **Итерация**: `i = 1`
- `count[1] = count[1] + count[0]`
- `count[1] = 1 + 0 = 1`
  
  Массив `count` после первой итерации:
  
  ```go
  count = [0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1]
  ```
- #### Шаг 2
  
  **Итерация**: `i = 2`
- `count[2] = count[2] + count[1]`
- `count[2] = 0 + 1 = 1`
  
  Массив `count` после второй итерации:
  
  ```go
  count = [0, 1, 1, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1]
  ```
- #### Шаг 3
  
  **Итерация**: `i = 3`
- `count[3] = count[3] + count[2]`
- `count[3] = 0 + 1 = 1`
  
  Массив `count` после третьей итерации:
  
  ```go
  count = [0, 1, 1, 1, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1]
  ```
- #### Шаг 4
  
  **Итерация**: `i = 4`
- `count[4] = count[4] + count[3]`
- `count[4] = 0 + 1 = 1`
  
  Массив `count` после четвертой итерации:
  
  ```go
  count = [0, 1, 1, 1, 1, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1]
  ```
- #### Шаг 5
  
  **Итерация**: `i = 5`
- `count[5] = count[5] + count[4]`
- `count[5] = 1 + 1 = 2`
  
  Массив `count` после пятой итерации:
  
  ```go
  count = [0, 1, 1, 1, 1, 2, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1]
  ```
- #### Шаг 6
  
  **Итерация**: `i = 6`
- `count[6] = count[6] + count[5]`
- `count[6] = 0 + 2 = 2`
  
  Массив `count` после шестой итерации:
  
  ```go
  count = [0, 1, 1, 1, 1, 2, 2, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1]
  ```
- #### Шаг 7
  
  **Итерация**: `i = 7`
- `count[7] = count[7] + count[6]`
- `count[7] = 0 + 2 = 2`
  
  Массив `count` после седьмой итерации:
  
  ```go
  count = [0, 1, 1, 1, 1, 2, 2, 2, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1]
  ```
- #### Шаг 8
  
  **Итерация**: `i = 8`
- `count[8] = count[8] + count[7]`
- `count[8] = 0 + 2 = 2`
  
  Массив `count` после восьмой итерации:
  
  ```go
  count = [0, 1, 1, 1, 1, 2, 2, 2, 2, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1]
  ```
- #### Шаг 9
  
  **Итерация**: `i = 9`
- `count[9] = count[9] + count[8]`
- `count[9] = 0 + 2 = 2`
  
  Массив `count` после девятой итерации:
  
  ```go
  count = [0, 1, 1, 1, 1, 2, 2, 2, 2, 2, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1]
  ```
- #### Шаг 10
  
  **Итерация**: `i = 10`
- `count[10] = count[10] + count[9]`
- `count[10] = 1 + 2 = 3`
  
  Массив `count` после десятой итерации:
  
  ```go
  count = [0, 1, 1, 1, 1, 2, 2, 2, 2, 2, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1]
  ```
- #### Шаг 11
  
  **Итерация**: `i = 11`
- `count[11] = count[11] + count[10]`
- `count[11] = 0 + 3 = 3`
  
  Массив `count` после одиннадцатой итерации:
  
  ```go
  count = [0, 1, 1, 1, 1, 2, 2, 2, 2, 2, 3, 3, 0, 0, 0, 0, 0, 0, 0, 0, 1]
  ```
- #### Шаг 12
  
  **Итерация**: `i = 12`
- `count[12] = count[12] + count[11]`
- `count[12] = 0 + 3 = 3`
  
  Массив `count` после двенадцатой итерации:
  
  ```go
  count = [0, 1, 1, 1, 1, 2, 2, 2, 2, 2, 3, 3, 3, 0, 0, 0, 0, 0, 0, 0, 1]
  ```
- #### Шаг 13
  
  **Итерация**: `i = 13`
- `count[13] = count[13] + count[12]`
- `count[13] = 0 + 3 = 3`
  
  Массив `count` после тринадцатой итерации:
  
  ```go
  count = [0, 1, 1, 1, 1, 2, 2, 2, 2, 2, 3, 3, 3, 3, 0, 0, 0, 0, 0, 0, 1]
  ```
- #### Шаг 14
  
  **Итерация**: `i = 14`
- `count[14] = count[14] + count[13]`
- `count[14] = 0 + 3 = 3`
  
  Массив `count` после четырнадцатой итерации:
  
  ```go
  count = [0, 1, 1, 1, 1, 2, 2, 2, 2, 2, 3, 3, 3, 3, 3, 0, 0, 0, 0, 0, 1]
  ```
- #### Шаг 15
  
  **Итерация**: `i = 15`
- `count[15] = count[15] + count[14]`
- `count[15] = 0 + 3 = 3`
  
  Массив `count` после пятнадцатой итерации:
  
  ```go
  count = [0, 1, 1, 1, 1, 2, 2, 2, 2, 2, 3, 3, 3, 3, 3, 3, 0, 0, 0, 0, 1]
  ```
- #### Шаг 16
  
  **Итерация**: `i = 16`
- `count[16] = count[16] + count[15]`
- `count[16] = 0 + 3 = 3`
  
  Массив `count` после шестнадцатой итерации:
  
  ```go
  count = [0, 1, 1, 1, 1, 2, 2, 2, 2, 2, 3, 3, 3, 3, 3, 3, 3, 0, 0, 0, 1]
  ```
- #### Шаг 17
  
  **Итерация**: `i = 17`
- `count[17] = count[17] + count[16]`
- `count[17] = 0 + 3 = 3`
  
  Массив `count` после семнадцатой итерации:
  
  ```go
  count = [0, 1, 1, 1, 1, 2, 2, 2, 2, 2, 3, 3, 3, 3, 3, 3, 3, 3, 0, 0, 1]
  ```
- #### Шаг 18
  
  **Итерация**: `i = 18`
- `count[18] = count[18] + count[17]`
- `count[18] = 0 + 3 = 3`
  
  Массив `count` после восемнадцатой итерации:
  
  ```go
  count = [0, 1, 1, 1, 1, 2, 2, 2, 2, 2, 3, 3, 3, 3, 3, 3, 3, 3, 3, 0, 1]
  ```
- #### Шаг 19
  
  **Итерация**: `i = 19`
- `count[19] = count[19] + count[18]`
- `count[19] = 0 + 3 = 3`
  
  Массив `count` после девятнадцатой итерации:
  
  ```go
  count = [0, 1, 1, 1, 1, 2, 2, 2, 2, 2, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 1]
  ```
- #### Шаг 20
  
  **Итерация**: `i = 20`
- `count[20] = count[20] + count[19]`
- `count[20] = 1 + 3 = 4`
  
  Массив `count` после двадцатой итерации:
  
  ```go
  count = [0, 1, 1, 1, 1, 2, 2, 2, 2, 2, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 4]
  ```
- ### Итог
  
  После завершения всех итераций массив `count` преобразован в массив префиксных сумм. Теперь каждый элемент массива `count` показывает количество элементов в исходном массиве `arr`, которые меньше или равны данному индексу.
- `count[0] = 0`: Нет элементов меньше или равных 0.
- `count[1] = 1`: Один элемент меньше или равен 1.
- `count[5] = 2`: Два элемента меньше или равны 5.
- `count[10] = 3`: Три элемента меньше или равны 10.
- `count[20] = 4`: Четыре элемента меньше или равны 20.